# –ò–º–ø–æ—Ä—Ç –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å FSM (Finite State Machine - –º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π)
from aiogram.fsm.state import State, StatesGroup

# ============================================================================
# FSM (–ú–ê–®–ò–ù–ê –°–û–°–¢–û–Ø–ù–ò–ô) –î–õ–Ø –ë–†–û–ù–ò–†–û–í–ê–ù–ò–Ø
# ============================================================================
# StatesGroup - –≥—Ä—É–ø–ø–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
# –ö–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - —ç—Ç–æ —à–∞–≥ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
class Booking(StatesGroup):
    """
    –ì—Ä—É–ø–ø–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ü–ö.
    
    FSM –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ—Ç—É "–ø–æ–º–Ω–∏—Ç—å", –Ω–∞ –∫–∞–∫–æ–º —à–∞–≥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
    –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –ü–ö, –±–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Booking.pc,
    –∏ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∫–∞–∫ –≤—ã–±–æ—Ä –ü–ö.
    
    –ü—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
    1. pc - –≤—ã–±–æ—Ä –ü–ö (1-26)
    2. date - –≤—ã–±–æ—Ä –¥–∞—Ç—ã
    3. time_from - –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞
    4. time_to - –≤—ã–±–æ—Ä –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è)
    """
    # –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –ü–ö
    # –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "üéÆ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ü–ö", –±–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    # –ò –æ–∂–∏–¥–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –Ω–æ–º–µ—Ä–æ–º –ü–ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ü–ö 5")
    pc = State()
    
    # –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã
    # –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ü–ö, –±–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    # –ò –æ–∂–∏–¥–∞–µ—Ç –¥–∞—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "2025-01-15" –∏–ª–∏ "–°–µ–≥–æ–¥–Ω—è")
    date = State()
    
    # –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞
    # –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã, –±–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    # –ò –æ–∂–∏–¥–∞–µ—Ç –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "14:00")
    time_from = State()
    
    # –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    # –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞, –±–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    # –ò –æ–∂–∏–¥–∞–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "3 —á–∞—Å–∞")
    # –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    time_to = State()

# ============================================================================
# FSM –î–õ–Ø –ü–û–î–î–ï–†–ñ–ö–ò
# ============================================================================
class Support(StatesGroup):
    """
    –ì—Ä—É–ø–ø–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.
    
    –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞", –±–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Support.message
    –∏ –æ–∂–∏–¥–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è, –æ–Ω–æ –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.
    """
    # –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
    # –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞", –±–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    # –ò –æ–∂–∏–¥–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–≤–æ–ø—Ä–æ—Å –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É)
    # –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è, –æ–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
    message = State()

# ============================================================================
# –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ FSM
# ============================================================================
# FSM (Finite State Machine) - —ç—Ç–æ —Å–ø–æ—Å–æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–º —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
#
# –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:
# 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "üéÆ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ü–ö"
#    -> –ë–æ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ: Booking.pc
#    -> –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –ü–ö 1-26
#
# 2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ü–ö 5"
#    -> –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Booking.pc
#    -> –°–æ—Ö—Ä–∞–Ω—è–µ—Ç pc=5 –≤ FSM
#    -> –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: Booking.date
#    -> –ü—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ –¥–∞—Ç—É
#
# 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "2025-01-15"
#    -> –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Booking.date
#    -> –°–æ—Ö—Ä–∞–Ω—è–µ—Ç date="2025-01-15" –≤ FSM
#    -> –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: Booking.time_from
#    -> –ü—Ä–æ—Å–∏—Ç –≤—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
#
# 4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "14:00"
#    -> –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Booking.time_from
#    -> –°–æ—Ö—Ä–∞–Ω—è–µ—Ç time_from="14:00" –≤ FSM
#    -> –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: Booking.time_to
#    -> –ü—Ä–æ—Å–∏—Ç –≤—ã–±—Ä–∞—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
#
# 5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "3 —á–∞—Å–∞"
#    -> –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Booking.time_to
#    -> –í—ã—á–∏—Å–ª—è–µ—Ç –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è (14:00 + 3 —á–∞—Å–∞ = 17:00)
#    -> –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ü–ö
#    -> –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
#    -> –û—á–∏—â–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ FSM
#
# –ë–µ–∑ FSM –±–æ—Ç –Ω–µ –∑–Ω–∞–ª –±—ã, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
# –° FSM –±–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
